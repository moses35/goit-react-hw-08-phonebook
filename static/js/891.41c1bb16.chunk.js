"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[891],{8026:function(e,n,t){t.d(n,{Bc:function(){return d},l0:function(){return l},zx:function(){return u}});var r,a,o,s=t(168),i=t(225),c=t(9055),l=i.Z.form(r||(r=(0,s.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  max-width: 250px;\n  gap: 10px;\n"]))),d=i.Z.span(a||(a=(0,s.Z)(["\n  color: red;\n  font-size: 11px;\n"]))),u=(0,i.Z)(c.z)(o||(o=(0,s.Z)(["\n  margin-left: 0px;\n  margin-top: 10px;\n"])))},5891:function(e,n,t){t.r(n),t.d(n,{ContactsPage:function(){return ie},default:function(){return ce}});var r,a,o,s,i,c,l,d,u=t(1413),h=t(5984),m=t(8026),x=t(8007),p=t(1134),f=t(4695),j=t(5325),v=t(7298),g=t(9891),Z=t(7943),y=t(9163),b=t(9454),C=t(4134),z=(0,C.I)({d:"M2.20731,0.0127209 C2.1105,-0.0066419 1.99432,-0.00664663 1.91687,0.032079 C0.871279,0.438698 0.212942,1.92964 0.0580392,2.95587 C-0.426031,6.28627 2.20731,9.17133 4.62766,11.0689 C6.77694,12.7534 10.9012,15.5223 13.3409,12.8503 C13.6507,12.5211 14.0186,12.037 13.9993,11.553 C13.9412,10.7397 13.186,10.1588 12.6051,9.71349 C12.1598,9.38432 11.2304,8.47427 10.6495,8.49363 C10.1267,8.51299 9.79754,9.05515 9.46837,9.38432 L8.88748,9.96521 C8.79067,10.062 7.55145,9.24878 7.41591,9.15197 C6.91248,8.8228 6.4284,8.45491 6.00242,8.04829 C5.57644,7.64167 5.18919,7.19632 4.86002,6.73161 C4.7632,6.59607 3.96933,5.41495 4.04678,5.31813 C4.04678,5.31813 4.72448,4.58234 4.91811,4.2919 C5.32473,3.67229 5.63453,3.18822 5.16982,2.45243 C4.99556,2.18135 4.78257,1.96836 4.55021,1.73601 C4.14359,1.34875 3.73698,0.942131 3.27227,0.612963 C3.02055,0.419335 2.59457,0.0708094 2.20731,0.0127209 Z",displayName:"PhoneIcon",viewBox:"0 0 14 14"}),w=t(184),N=x.Ry().shape({name:x.Z_().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan").required(),phone:x.Z_().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required()}),S=function(e){var n,t,r=e.onSubmit,a=(0,p.cI)({defaultValues:{name:"",phone:""},resolver:(0,f.X)(N)}),o=a.register,s=a.handleSubmit,i=a.formState.errors,c=a.reset,l=(0,h.x0)(),d=(0,h.x0)();return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(m.l0,{onSubmit:s((function(e){r((0,u.Z)({},e)),c()})),children:(0,w.jsxs)(j.NI,{isInvalid:i.name,children:[(0,w.jsx)(v.l,{htmlFor:l,children:"Name"}),(0,w.jsxs)(g.B,{children:[(0,w.jsx)(Z.Z,{pointerEvents:"none",children:(0,w.jsx)(b.K,{color:"gray.300"})}),(0,w.jsx)(y.I,(0,u.Z)((0,u.Z)({type:"text",placeholder:"Contact name"},o("name",{required:!0})),{},{id:l}))]}),(0,w.jsx)(m.Bc,{children:null===(n=i.name)||void 0===n?void 0:n.message}),(0,w.jsx)(v.l,{htmlFor:d,children:"Number"}),(0,w.jsxs)(g.B,{children:[(0,w.jsx)(Z.Z,{pointerEvents:"none",children:(0,w.jsx)(z,{color:"gray.300"})}),(0,w.jsx)(y.I,(0,u.Z)((0,u.Z)({type:"tel",placeholder:"Phone number"},o("phone",{required:!0})),{},{id:d}))]}),(0,w.jsx)(m.Bc,{children:null===(t=i.phone)||void 0===t?void 0:t.message}),(0,w.jsx)(m.zx,{colorScheme:"teal",size:"sm",type:"submit",children:"Add contact"})]})})})},I=t(9439),k=t(168),A=t(225),L=A.Z.ul(r||(r=(0,k.Z)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0px;\n"]))),_=A.Z.li(a||(a=(0,k.Z)(["\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  align-items: baseline;\n  margin-bottom: 10px;\n"]))),B=A.Z.div(o||(o=(0,k.Z)(["\n  display: flex;\n  gap: 20px;\n"]))),F=A.Z.div(s||(s=(0,k.Z)(["\n  display: flex;\n  gap: 10px;\n  margin-left: 10px;\n"]))),M=t(5119),q=t(9434),E=t(2791),P=(0,C.I)({displayName:"EditIcon",path:(0,w.jsxs)("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",children:[(0,w.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,w.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),X=(0,C.I)({displayName:"DeleteIcon",path:(0,w.jsx)("g",{fill:"currentColor",children:(0,w.jsx)("path",{d:"M19.452 7.5H4.547a.5.5 0 00-.5.545l1.287 14.136A2 2 0 007.326 24h9.347a2 2 0 001.992-1.819L19.95 8.045a.5.5 0 00-.129-.382.5.5 0 00-.369-.163zm-9.2 13a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zm5 0a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zM22 4h-4.75a.25.25 0 01-.25-.25V2.5A2.5 2.5 0 0014.5 0h-5A2.5 2.5 0 007 2.5v1.25a.25.25 0 01-.25.25H2a1 1 0 000 2h20a1 1 0 000-2zM9 3.75V2.5a.5.5 0 01.5-.5h5a.5.5 0 01.5.5v1.25a.25.25 0 01-.25.25h-5.5A.25.25 0 019 3.75z"})})}),H=A.Z.div(i||(i=(0,k.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1200;\n"]))),R=A.Z.div(c||(c=(0,k.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 300px;\n  height: 300px;\n  background-color: white;\n  border-radius: 10%;\n"]))),T=t(4164),V=function(e){return e.phonebook},K=t(9589),$=A.Z.div(l||(l=(0,k.Z)(["\n  display: flex;\n  justify-content: center;\n  gap: 10px;\n"]))),J=x.Ry().shape({name:x.Z_().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan").required(),phone:x.Z_().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required()}),G=function(e){var n,t,r=e.id,a=e.contactName,o=e.contactNumber,s=e.closeModal,i=(0,q.v9)(V).items,c=(0,q.I0)(),l=(0,E.useState)(""),d=(0,I.Z)(l,2),x=d[0],C=d[1],N=(0,E.useState)(""),S=(0,I.Z)(N,2),k=S[0],A=S[1],L=(0,h.x0)(),_=(0,h.x0)();(0,E.useEffect)((function(){C(a),A(o)}),[a,o]);var B=(0,p.cI)({defaultValues:{name:a,phone:o},resolver:(0,f.X)(J)}),F=B.register,P=B.handleSubmit,X=B.formState.errors,H=B.reset;return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(m.l0,{onSubmit:P((function(e){!function(e,n){var t=n.name.toLocaleLowerCase(),r=i.find((function(e){return t===e.name.toLocaleLowerCase()}));"object"===typeof r?window.alert(r.name+" is already in contacts"):(c((0,M._n)({contactId:e,name:n.name,number:n.phone})),s())}(r,e),H()})),children:[(0,w.jsx)(K.X,{fontSize:"1xl",children:"\u0421hange contact"}),(0,w.jsxs)(j.NI,{isInvalid:X.name,children:[(0,w.jsx)(v.l,{htmlFor:L,children:"Name"}),(0,w.jsxs)(g.B,{children:[(0,w.jsx)(Z.Z,{pointerEvents:"none",children:(0,w.jsx)(b.K,{color:"gray.300"})}),(0,w.jsx)(y.I,(0,u.Z)((0,u.Z)({type:"text"},F("name",{required:!0})),{},{id:L,onChange:function(e){var n=e.currentTarget.value;C(n)},value:x}))]}),(0,w.jsx)(m.Bc,{children:null===(n=X.name)||void 0===n?void 0:n.message}),(0,w.jsx)(v.l,{htmlFor:_,children:"Number"}),(0,w.jsxs)(g.B,{children:[(0,w.jsx)(Z.Z,{pointerEvents:"none",children:(0,w.jsx)(z,{color:"gray.300"})}),(0,w.jsx)(y.I,(0,u.Z)((0,u.Z)({type:"tel"},F("phone",{required:!0})),{},{id:_,onChange:function(e){var n=e.currentTarget.value;A(n)},value:k}))]}),(0,w.jsx)(m.Bc,{children:null===(t=X.phone)||void 0===t?void 0:t.message}),(0,w.jsxs)($,{children:[(0,w.jsx)(m.zx,{colorScheme:"teal",size:"sm",type:"submit",children:"Update contact"}),(0,w.jsx)(m.zx,{colorScheme:"red",size:"sm",type:"submit",onClick:function(){return s()},children:"Close"})]})]})]})})},U=document.querySelector("#modal-root"),D=function(e){var n=e.id,t=e.contactName,r=e.contactNumber,a=e.closeModal;return(0,E.useEffect)((function(){var e=function(e){"Escape"===e.code&&a()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[a]),(0,T.createPortal)((0,w.jsx)(H,{onClick:function(e){e.currentTarget===e.target&&a()},children:(0,w.jsx)(R,{children:(0,w.jsx)(G,{id:n,contactName:t,contactNumber:r,closeModal:a})})}),U)},O=t(884),W=function(e){var n=e.contacts,t=(0,q.I0)(),r=(0,E.useState)(!1),a=(0,I.Z)(r,2),o=a[0],s=a[1],i=(0,E.useState)(""),c=(0,I.Z)(i,2),l=c[0],d=c[1],u=(0,E.useState)(""),h=(0,I.Z)(u,2),x=h[0],p=h[1],f=(0,E.useState)(null),j=(0,I.Z)(f,2),v=j[0],g=j[1];return(0,w.jsxs)(B,{children:[(0,w.jsx)(L,{children:n.map((function(e){var n=e.id,r=e.name,a=e.number;return(0,w.jsxs)(_,{children:[(0,w.jsx)("span",{children:(0,w.jsxs)(O.x,{fontSize:"18px",as:"cite",children:[r,": ",a]})}),(0,w.jsxs)(F,{children:[(0,w.jsx)(m.zx,{colorScheme:"yellow",size:"sm",type:"button",leftIcon:(0,w.jsx)(P,{boxSize:4}),onClick:function(){!function(e){s(!0),g(e)}(n),d(r),p(a)},children:"Update"}),(0,w.jsx)(m.zx,{colorScheme:"red",size:"sm",type:"button",onClick:function(){t((0,M.GK)(n))},children:(0,w.jsx)(X,{boxSize:4})})]})]},n)}))}),o&&(0,w.jsx)(D,{id:v,contactName:l,contactNumber:x,closeModal:function(){s(!1)}})]})},Q=A.Z.form(d||(d=(0,k.Z)(["\n  display: flex;\n  flex-direction: column;\n  max-width: 250px;\n  gap: 10px;\n"]))),Y=x.Ry().shape({filter:x.Z_().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan").required()}),ee=function(e){var n,t=e.onChange,r=(0,p.cI)({defaultValues:{filter:""},resolver:(0,f.X)(Y)}),a=r.register,o=r.formState.errors,s=(0,h.x0)();return(0,w.jsxs)(Q,{children:[(0,w.jsx)(v.l,{htmlFor:s,children:"Find contacts by name"}),(0,w.jsx)(y.I,(0,u.Z)((0,u.Z)({size:"sm",type:"text",placeholder:"Name"},a("filter")),{},{onChange:t,id:s})),(0,w.jsx)(m.Bc,{children:null===(n=o.filter)||void 0===n?void 0:n.message})]})},ne=t(4169),te=t(1634),re=t(1538),ae=t(2577),oe=function(){return(0,w.jsx)(ae.$,{size:"lg",color:"green"})},se=function(e){return e.filters.filter},ie=function(){var e=(0,q.v9)(V),n=e.items,t=e.isLoading,r=e.error,a=(0,q.v9)(se),o=(0,E.useRef)(!0),s=(0,E.useRef)(!0),i=(0,q.I0)();(0,E.useEffect)((function(){return o.current&&(o.current=!1,i((0,M.yF)())),function(){i((0,re.O)())}}),[i]);var c=function(e){var t=e.name.toLocaleLowerCase(),r=n.find((function(e){return t===e.name.toLocaleLowerCase()}));"object"===typeof r?window.alert(r.name+" is already in contacts"):(i((0,M.uK)({name:e.name,number:e.phone})),s.current=!1)},l=function(){if(n){var e=a.toLowerCase();return n.filter((function(n){return n.name.toLocaleLowerCase().includes(e)}))}}();return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(ne.bv,{children:(0,w.jsx)(K.X,{fontSize:"3xl",children:"Phonebook"})}),(0,w.jsx)(ne.bv,{children:(0,w.jsx)(S,{onSubmit:function(e){c(e)}})}),(0,w.jsx)(ne.bv,{children:(0,w.jsx)(K.X,{fontSize:"2xl",children:"Contacts"})}),(0,w.jsxs)(ne.ly,{children:[(0,w.jsx)(ee,{onChange:function(e){i((0,te.T)(e.currentTarget.value))}}),t&&(0,w.jsx)(oe,{})]}),n.length>0?(0,w.jsx)(W,{contacts:l}):!t&&(0,w.jsx)("p",{children:"No contacts"}),r&&(0,w.jsx)(ne.Lu,{children:r})]})},ce=ie},9589:function(e,n,t){t.d(n,{X:function(){return h}});var r=t(1413),a=t(4925),o=t(5597),s=t(6232),i=t(2996),c=t(1665),l=t(6992),d=t(184),u=["className"],h=(0,o.G)((function(e,n){var t=(0,s.mq)("Heading",e),o=(0,i.Lr)(e),h=(o.className,(0,a.Z)(o,u));return(0,d.jsx)(c.m.h2,(0,r.Z)((0,r.Z)({ref:n,className:(0,l.cx)("chakra-heading",e.className)},h),{},{__css:t}))}));h.displayName="Heading"}}]);
//# sourceMappingURL=891.41c1bb16.chunk.js.map